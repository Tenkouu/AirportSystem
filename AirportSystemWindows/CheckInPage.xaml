<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="AirportSystemWindows.CheckInPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AirportSystemWindows"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Unloaded="Page_Unloaded">

    <Grid Padding="20">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
    <StackPanel>
                <!-- Header Section -->
                <Border
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                CornerRadius="8" 
                Margin="20,20,20,10"
                Padding="30">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="✈️ Airport Management System" 
                          FontSize="32" 
                          FontWeight="Bold" 
                          HorizontalAlignment="Center"
                          Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                        <TextBlock Text="Agent Terminal - Flight Operations &amp; Passenger Services" 
                          FontSize="16" 
                          HorizontalAlignment="Center"
                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                          Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
                <!-- Section Header -->
        <StackPanel Orientation="Horizontal" Margin="25,20,25,10">
            <Border Background="{ThemeResource AccentFillColorDefaultBrush}"
                CornerRadius="8"
                Width="40"
                Height="40"
                Margin="0,0,15,0">
                <TextBlock Text="👤" 
                      FontSize="20" 
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Center"/>
            </Border>
            <TextBlock Text="Passenger Check-in" 
                  FontSize="24" 
                  FontWeight="SemiBold" 
                  VerticalAlignment="Center"
                  Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
        </StackPanel>

                <!-- Passport Input + Search Button in one row -->
                <Grid Margin="20,20,20,20" ColumnSpacing="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <!-- TextBox expands -->
                        <ColumnDefinition Width="Auto"/>
                        <!-- Button keeps size -->
                    </Grid.ColumnDefinitions>

                    <!-- Passport TextBox -->
                    <TextBox x:Name="PassportNumberTextBox"
             Grid.Column="0"
             PlaceholderText="Enter passport number (e.g., A1234567)"
             FontSize="16"
             Padding="15"
             Text=""/>

                    <!-- Search Button -->
                    <Button x:Name="SearchPassengerButton"
            Grid.Column="1"
            Content="🔍 Search"
            Background="{ThemeResource AccentFillColorDefaultBrush}"
            Foreground="White"
            FontWeight="SemiBold"
            Padding="20,12"
            CornerRadius="8"
            Click="SearchPassengerButton_Click"/>
                </Grid>


                <!-- Alert Messages -->
        <InfoBar x:Name="CheckInInfoBar"
            IsOpen="False"
            Margin="20,0,20,0"/>

        <!-- Passenger Information -->
        <Border x:Name="PassengerInfoCard"
            Background="{ThemeResource LayerFillColorDefaultBrush}"
            CornerRadius="12"
            Padding="20"
            Margin="20,20,20,20"
            Visibility="Collapsed"
            BorderBrush="{ThemeResource AccentFillColorDefaultBrush}"
            BorderThickness="2">
            <StackPanel>
                <TextBlock Text="Passenger Found" 
                      FontSize="20" 
                      FontWeight="SemiBold" 
                      Margin="0,0,0,15"
                      Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>

                <!-- Passenger Details -->
                <StackPanel Spacing="8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Name:" FontWeight="SemiBold" Width="120"/>
                        <TextBlock x:Name="PassengerNameText" Grid.Column="1" Text="-"/>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Passport:" FontWeight="SemiBold" Width="120"/>
                        <TextBlock x:Name="PassengerPassportText" Grid.Column="1" Text="-"/>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Flight:" FontWeight="SemiBold" Width="120"/>
                        <TextBlock x:Name="PassengerFlightText" Grid.Column="1" Text="-"/>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Current Seat:" FontWeight="SemiBold" Width="120"/>
                        <TextBlock x:Name="CurrentSeatText" Grid.Column="1" Text="Not Assigned"/>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Status:" FontWeight="SemiBold" Width="120"/>
                        <TextBlock x:Name="PassengerStatusText" Grid.Column="1" Text="Pending Check-in"/>
                    </Grid>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal" 
                      HorizontalAlignment="Center" 
                      Spacing="15" 
                      Margin="0,20,0,0">
                    <Button x:Name="AssignSeatButton"
                        Content="🪑 Assign Seat"
                        Background="{ThemeResource SystemFillColorSuccessBrush}"
                        Foreground="White"
                        Padding="15,10"
                        CornerRadius="6"
                        FontWeight="SemiBold"
                        Click="AssignSeatButton_Click"/>

                    <Button x:Name="PrintBoardingPassButton"
                        Content="🎫 Print Boarding Pass"
                        Background="{ThemeResource SystemFillColorCautionBrush}"
                        Foreground="White"
                        Padding="15,10"
                        CornerRadius="6"
                        FontWeight="SemiBold"
                        Click="PrintBoardingPassButton_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </StackPanel>
</ScrollViewer>

        <!-- Seat Selection Dialog -->
        <ContentDialog x:Name="SeatSelectionDialog"
               Title="Seat Selection"
               PrimaryButtonText="Assign Seat"
               SecondaryButtonText="Cancel"
               DefaultButton="Primary"
               PrimaryButtonClick="SeatSelectionDialog_PrimaryButtonClick"
               SecondaryButtonClick="SeatSelectionDialog_SecondaryButtonClick">
            <StackPanel Width="500" Spacing="20">
                <TextBlock x:Name="SeatDialogPassengerInfo" 
                  Text="Flight KE092: Boston → Seoul/Incheon | Passenger: -" 
                  FontWeight="SemiBold"/>

                <!-- Legend -->
                <StackPanel Orientation="Horizontal" 
                   HorizontalAlignment="Center" 
                   Spacing="15">
                    <Border Background="#E3F2FD" Padding="8,4" CornerRadius="4">
                        <TextBlock Text="Available" FontSize="12"/>
                    </Border>
                    <Border Background="#667EEA" Padding="8,4" CornerRadius="4">
                        <TextBlock Text="Selected" FontSize="12" Foreground="White"/>
                    </Border>
                    <Border Background="#FFEBEE" Padding="8,4" CornerRadius="4">
                        <TextBlock Text="Occupied" FontSize="11"/>
                    </Border>
                </StackPanel>

                <TextBlock Text="Front of Aircraft" 
                  HorizontalAlignment="Center" 
                  FontWeight="SemiBold" 
                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

                <!-- Seat Map -->
                <Grid x:Name="SeatMapGrid" 
              HorizontalAlignment="Center">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                </Grid>

                <StackPanel HorizontalAlignment="Center">
                    <TextBlock x:Name="SelectedPassengerText" Text="Passenger: GALBAYAR DELGER MAA" FontWeight="SemiBold"/>
                    <TextBlock x:Name="SelectedSeatText" Text="Selected Seat: None" FontWeight="SemiBold"/>
                </StackPanel>
            </StackPanel>
        </ContentDialog>
    </Grid>
</Page>
